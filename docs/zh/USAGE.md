# Electron Spirit使用指南

## 用途

- 能在全屏上置顶显示网页，并可以播放视频，并且有弹幕功能。
- 能在全屏上置顶显示html内容。
- 可以禁止窗口交互，不会被置顶的窗口干扰到。
- 可以使用插件来操作软件。

## 快速开始

*假设热键注册成功*

1. 按下`Ctrl|Command + Alt + P`，打开输入框，填入content为`https://www.bilibili.com/`，回车。
2. 按下`Ctrl|Command + Alt + L`，解锁交互，按下`Ctrl|Command + Alt + M`，解锁拖动框。
鼠标移动到窗口上出现拖动框，按住拖动框上方标题栏来移动，拖拽拖动框的四周来改变窗口大小。
3. 再次反向顺序（顺序其实不要紧）按下前两个键锁定交互和移动。

## 快捷键

1. 按下`Ctrl|Command + Alt + X`，切换是否显示窗口。默认是显示。相当于老板键。
2. 按下`Ctrl|Command + Alt + P`或者右下角托盘`创建新元素`，切换输入框。
可以输入网址或者HTML元素或者单纯文字，会自动识别输入的类型。
输入框也可以输入插件绑定好的前缀来触发插件功能。
3. 按下`Ctrl|Command + Alt + L`或者右下角托盘`切换交互模式`，切换是否能够与创建的窗口交互。
**默认是不能交互的**。
4. 按下`Ctrl|Command + Alt + M`或者右下角托盘`切换移动模式`，切换开关拖动框，默认是不能拖动的。
开启之后，移动到创建的窗口上，会出现拖动框，黑色透明的标题栏。
按住标题栏拖动，移动到窗口四周来改变大小，鼠标移开自动消失。

## 拖动框操作说明

拖动框会显示标题和控制按钮，网页标题显示在中间，左右显示的是控制按钮。除了控制按钮附近，其他地方都可以进行拖动。

为了方便，在开启交互的时候，拖动框中间可以直接与网页交互，但是点击之后，拖动框可能会被网页窗口挡住，此时只需要移开鼠标再移动回来就可以。

上方控制按钮从左到右依次为：
- `T`: 可以切换拖动框是否透明。**注意**在开启拖动框的情况下，透明化拖动框不会使得拖动框小时，你仍然可以拖动对应的位置进行窗口移动。
- `🔊`: 静音切换按钮，点击后网页静音。
- `B`: 切换网页背景透明，默认背景透明，按一下设置为白色背景。
解决有些网页默认透明背景的问题。
- `100`: 窗口透明度，显示为数字，鼠标移动到按钮上，可以使用滚轮调节窗口的透明度。
- `↻`: 刷新按钮，点击刷新窗口。
- `X`: 关闭按钮，点击关闭窗口。

## 自动更新

ES支持在Windows上自动更新，如果无法检查或者获得自动更新，请检查是否能够连接到`github.com`。
自动更新会自动下载最新版本，下载完之后在程序退出会自动替换版本。如果不需要自动更新可以在设置里面关闭。

## 插件示例

https://github.com/Seraphli/es_plugin_example_py

## 插件列表

https://github.com/Seraphli/esp_list

## 注意

- 默认会使用浏览器的代理设置，如果碰到网络连接问题，可以检查代理设置是否正常，或者默认浏览器是否能够打开网页。
- mac上会弹出是否联网的提示，选择允许，这个是本地服务器开启的提醒，为了能够使用外部插件来操作整个界面。
- 所有设置都需要重启才能生效。
- 注册热键可能会失败，尤其是交互锁定键，可以使用右下角托盘来切换功能，或者在设置当中绑定新的热键，绑定之后需要重启ES。
- 如果碰到卡在加载广告屏蔽的话，需要从`data`目录下载`adblock.bin`，然后在右下角托盘中选择`调试->打开设置文件位置`，然后将文件放在这个文件夹里之后重启。
- 如果网页无法加载出来，且提示错误信息，可能会出现完全透明的一个窗口，需要打开拖动框，将这个窗口关闭。
- 注意，不要对拖动框右键关闭窗口，这样会导致程序出问题。
- 打开拖动框的时候打开新窗口，有可能会出现只显示了拖动框而没有显示新窗口的情况，拖动一下就可以显示，或是关闭拖动框。
